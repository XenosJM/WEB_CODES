<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HW4</title>
<script src="https://code.jquery.com/jquery-3.7.1.slim.js">
	
</script>
<style>
.contentOff {
	display: none;
}

.contentOn {
	display: block;
}
</style>
</head>
<body>
	<!-- 
상품목록 선택 박스를 누르면 상품이름과, 상품가격이 3개 뜬다.
선택박스를 안만들고 div를 빼서 목록으로 먼저 만들어보기.
이렇게 목록에 나타난 상품을 클릭하면 다른 div창(이하 장바구니)에 추가된다.
같은 상품을 한번더 클릭하면 alert가 뜬다.
장바구니에 추가된 상품은 상품정보, 가격과 함께 추가 구매를 할수있는 버튼 + - 버튼 두개와 장바구니에서 뺄수있는 x버튼,
구매수량을 직접 적어 넣을수있는 input창이 장바구니에 추가된다.
이렇게 추가된 상품이 존재할경우 다른 div창에 상품의 총 가격과 수량이 보이는데 이 창은 + - 버튼이 눌릴 때, 
input창에 숫자를 입력후 엔터를 누를 때, 상품이 장바구니에서 빠져나갈 때 마다 값의 합이 변한다.
상품 셀렉트 창 ->  고른 품목에 해당하는 상품 목록 -> 목록중에서 클릭한 상품을 장바구니로 -> 장바구니에서 추가 행동.

 -->
	<h1>정민이네 만물상</h1>
	<select>
		<option value="nuts_list">견과류</option>
		<option value="fruit_list">과일</option>
		<option value="snack_list">과자</option>
	</select>
	<div>
		<ul class="item_list">
			<li>
				<div class="info" >
					<strong>호두</strong>
					<div class="price">
						<span class="val">1000</span>
					</div>
				</div>
			</li>
			<li>
				<div class="info">
					<strong>잣</strong>
					<div class="price">
						<span class="val">1200</span>
					</div>
				</div>
			</li>
			<li>
				<div class="info">
					<strong>피스타치오</strong>
					<div class="price">
						<span class="val">1500</span>
					</div>
				</div>
			</li>
		</ul>
	</div>
	<hr>
	장바구니<ul class="selected_list">
	
	</ul>
	<hr>
	장바구니 총합<div>
	
	</div>
	<script type="text/javascript">
		$(document).ready(function() {
			$('ul').on('click', 'li .info', function() {
				console.log(this);
				let optionName = $(this).find('strong').text();
				let optionPrice = $(this).find('.price .val').text();
				console.log('optionName : ' + optionName);
				console.log('optionPrice : ' + optionPrice);

				let optionItem = $('<li class="option_item"></li>');
				let selectOptionName = $('<div class="option_name"></div>');
				let inputQty = $('<input type="number"><br>');
				inputQty.val(1);
				let btnPlus = $('<button>상품 추가</button>');
				let btnMinus = $('<button>상품 감소</button><br>');
				let prodSumOutput = $('<div class="option_price"></div>');
				let btnCancel = $('<button>상품 제거</button><br>');
				selectOptionName.text(optionName);
				prodSumOutput.text(optionPrice);
				optionItem.append(selectOptionName);
				optionItem.append(inputQty);
				optionItem.append(btnPlus);
				optionItem.append(btnMinus);
				optionItem.append(prodSumOutput);
				optionItem.append(btnCancel);
				$('.selected_list').append(optionItem); //  요소 추가
				
				btnPlus.click(function(){
					inputQty.val(parseInt(inputQty.val())+1);
					prodSumOutput.text(parseInt(inputQty.val()) * parseInt(optionPrice));
				});
				inputQty.change(function(){
					prodSumOutput.text(parseInt(inputQty.val()) * parseInt(optionPrice));
				});
				btnMinus.click(function(){
					inputQty.val(parseInt(inputQty.val())-1);
					prodSumOutput.text(parseInt(inputQty.val()) * parseInt(optionPrice));
				});
				btnCancel.click(function(){ // 리스트에서 삭제하는데 삭제할때 이름중 매칭되는게 있다면 삭제
					$('.selected_list li').empty();
				});
				
			}); // item_list.on();
		}); // 둥 document()
	

	</script>

</body>
</html>










